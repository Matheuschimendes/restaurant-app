{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/matheuschimendes/restaurant-app/app/pages/api/produto/%5Bid%5D/route.tsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\nimport { NextRequest, NextResponse } from \"next/server\";\n\nconst prisma = new PrismaClient();\n\n// Tipo para o Produto\ntype Produto = {\n  id?: number; // `id` é opcional para POST\n  nomeProduto: string;\n  preco: number;\n  tipo: \"espeto\" | \"sobremesa\" | \"acompanhamento\" | \"bebidas\";\n  descricao?: string;\n  imagem?: string; // imagemUrl como opcional\n};\n\n// GET: Retorna todos os produtos\nexport async function GET() {\n  try {\n    const produtos = await prisma.produto.findMany(); // Buscando todos os produtos\n    return NextResponse.json(produtos, { status: 200 });\n  } catch (error: unknown) {\n    const errorMessage = error instanceof Error ? error.message : \"Erro desconhecido\";\n    return NextResponse.json({ message: \"Erro ao buscar produtos.\", error: errorMessage }, { status: 500 });\n  }\n}\n\n// POST: Cria um novo produto\nexport async function POST(request: NextRequest) {\n  try {\n    const body: Produto = await request.json();\n    const { nomeProduto, preco, tipo, descricao,  } = body;\n\n    if (!nomeProduto || preco <= 0 || !tipo) {\n      return NextResponse.json({ message: \"Dados do produto inválidos!\" }, { status: 400 });\n    }\n\n    const novoProduto = await prisma.produto.create({\n      data: { nomeProduto, preco, tipo, descricao,  },\n    });\n\n    return NextResponse.json(novoProduto, { status: 201 });\n  } catch (error: unknown) {\n    const errorMessage = error instanceof Error ? error.message : \"Erro desconhecido\";\n    return NextResponse.json({ message: \"Erro ao criar produto.\", error: errorMessage }, { status: 500 });\n  }\n}\n\n// PUT: Atualiza um produto existente\nexport async function PUT(request: NextRequest) {\n  try {\n    const body: Produto = await request.json();\n    const { id, nomeProduto, preco, tipo, descricao,  } = body;\n\n    if (!id || id <= 0) {\n      return NextResponse.json({ message: \"ID inválido!\" }, { status: 400 });\n    }\n\n    const produtoExistente = await prisma.produto.findUnique({\n      where: { id },\n    });\n\n    if (!produtoExistente) {\n      return NextResponse.json({ message: \"Produto não encontrado!\" }, { status: 404 });\n    }\n\n    const produtoAtualizado = await prisma.produto.update({\n      where: { id },\n      data: { nomeProduto, preco, tipo, descricao,  },\n    });\n\n    return NextResponse.json(produtoAtualizado, { status: 200 });\n  } catch (error: unknown) {\n    const errorMessage = error instanceof Error ? error.message : \"Erro desconhecido\";\n    return NextResponse.json({ message: \"Erro ao atualizar produto.\", error: errorMessage }, { status: 500 });\n  }\n}\n\n// DELETE: Deleta um produto\nexport async function DELETE(request: NextRequest) {\n  try {\n    const url = new URL(request.url);\n    const id = parseInt(url.pathname.split(\"/\").pop() || \"\", 10); // Extrai o ID da URL\n\n    if (isNaN(id) || id <= 0) {\n      return NextResponse.json({ message: \"ID inválido!\" }, { status: 400 });\n    }\n\n    const produtoExistente = await prisma.produto.findUnique({\n      where: { id },\n    });\n\n    if (!produtoExistente) {\n      return NextResponse.json({ message: \"Produto não encontrado!\" }, { status: 404 });\n    }\n\n    await prisma.produto.delete({\n      where: { id },\n    });\n\n    return NextResponse.json({ message: \"Produto excluído com sucesso!\" }, { status: 200 });\n  } catch (error: unknown) {\n    const errorMessage = error instanceof Error ? error.message : \"Erro desconhecido\";\n    return NextResponse.json({ message: \"Erro ao excluir produto.\", error: errorMessage }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}