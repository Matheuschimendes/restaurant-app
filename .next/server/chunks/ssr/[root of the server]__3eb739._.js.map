{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/matheuschimendes/restaurant-app/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { toast, Toaster } from \"sonner\";\n// Importando o ícone de carrinho do ShadCN UI\nimport { CartIcon } from \"@shadcn/ui\"; // Supondo que o nome do ícone seja \"CartIcon\"\n\ntype ItemMenu = {\n  id: number;\n  nomeProduto: string;\n  descricao: string;\n  preco: number;\n  imagemUrl: string;\n  tipo: \"espeto\" | \"sobremesa\" | \"acompanhamento\" | \"bebidas\";\n  quantidade?: number; // Adicionando a propriedade de quantidade\n};\n\nconst MenuPage = () => {\n  const [mesa, setMesa] = useState<string>(\"\");\n  const [pedido, setPedido] = useState<ItemMenu[]>([]);\n  const [produtos, setProdutos] = useState<ItemMenu[]>([]);\n  const [categoriaSelecionada, setCategoriaSelecionada] = useState<\n    \"espeto\" | \"sobremesa\" | \"acompanhamento\" | \"bebidas\"\n  >(\"espeto\");\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false); // Controla a abertura do menu lateral\n\n  useEffect(() => {\n    const fetchProdutos = async () => {\n      try {\n        const response = await fetch(\"/pages/api/produto/[id]\");\n        if (!response.ok) throw new Error(\"Erro ao carregar produtos\");\n        const data: ItemMenu[] = await response.json();\n        setProdutos(data);\n      } catch (error) {\n        console.error(\"Erro ao buscar produtos:\", error);\n      }\n    };\n\n    fetchProdutos();\n  }, []);\n\n  const adicionarAoPedido = (item: ItemMenu) => {\n    setPedido((prev) => [...prev, { ...item, quantidade: 1 }]);\n    toast.success(`${item.nomeProduto} adicionado ao pedido!`, {\n      position: \"top-right\",\n      duration: 1500,\n    });\n  };\n\n  const removerDoPedido = (id: number) => {\n    setPedido((prev) => prev.filter((item) => item.id !== id));\n    toast.success(\"Item removido do pedido!\", {\n      position: \"top-right\",\n      duration: 1500,\n    });\n  };\n\n  const aumentarQuantidade = (id: number) => {\n    setPedido((prev) =>\n      prev.map((item) =>\n        item.id === id ? { ...item, quantidade: (item.quantidade || 1) + 1 } : item\n      )\n    );\n  };\n\n  const diminuirQuantidade = (id: number) => {\n    setPedido((prev) =>\n      prev.map((item) =>\n        item.id === id && (item.quantidade || 1) > 1\n          ? { ...item, quantidade: (item.quantidade || 1) - 1 }\n          : item\n      )\n    );\n  };\n\n  const calcularTotal = () => {\n    return pedido.reduce(\n      (total, item) => total + (item.preco * (item.quantidade || 1)),\n      0\n    ).toFixed(2);\n  };\n\n  const finalizarPedido = async () => {\n    if (!mesa || pedido.length === 0) {\n      toast.error(\"Por favor, selecione a mesa e adicione itens ao pedido!\");\n      return;\n    }\n\n    const pedidoData = {\n      mesa,\n      itens: pedido,\n      total: calcularTotal(),\n    };\n\n    try {\n      const response = await fetch(\"/pages/api/pedido\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(pedidoData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || \"Erro ao finalizar pedido.\");\n      }\n\n      toast.success(\n        `Pedido finalizado para a mesa ${mesa}. Total: R$ ${calcularTotal()}`,\n        { position: \"top-right\" }\n      );\n\n      setMesa(\"\");\n      setPedido([]);\n      setIsSidebarOpen(false); // Fecha o menu lateral após finalizar\n    } catch (error) {\n      console.error(\"Erro ao finalizar pedido:\", error);\n      toast.error(\"Erro ao finalizar pedido. Tente novamente.\", {\n        position: \"top-right\",\n      });\n    }\n  };\n\n  // Função para contar o total de itens no carrinho\n  const contarItensNoCarrinho = () => {\n    return pedido.reduce((total, item) => total + (item.quantidade || 1), 0);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-6 relative\">\n      {/* Ícone do Carrinho no canto superior direito utilizando o ícone do ShadCN UI */}\n      <button\n        onClick={() => setIsSidebarOpen(true)}\n        className=\"fixed top-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-lg transition-all duration-200 hover:bg-indigo-700 relative z-50 flex items-center justify-center\"\n      >\n        <CartIcon className=\"h-6 w-6\" /> {/* Alterando para o CartIcon do ShadCN UI */}\n        {/* Exibindo o contador de itens no carrinho */}\n        {contarItensNoCarrinho() > 0 && (\n          <span className=\"absolute top-0 right-0 bg-red-600 text-white text-xs font-semibold rounded-full w-5 h-5 flex items-center justify-center\">\n            {contarItensNoCarrinho()}\n          </span>\n        )}\n      </button>\n\n      {/* Sidebar do Carrinho */}\n      <div\n        className={`fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity duration-300 ${\n          isSidebarOpen ? \"opacity-100\" : \"opacity-0 pointer-events-none\"\n        }`}\n        onClick={() => setIsSidebarOpen(false)}\n      ></div>\n\n      <div\n        className={`fixed top-0 right-0 bg-white p-6 w-96 h-full shadow-lg transition-transform duration-300 transform ${\n          isSidebarOpen ? \"translate-x-0\" : \"translate-x-full\"\n        } z-50`}\n      >\n        <h2 className=\"text-2xl font-medium text-center mb-4\">Carrinho de Compras</h2>\n        <ul>\n          {pedido.map((item, index) => (\n            <li key={index} className=\"flex justify-between items-center mb-4\">\n              <span>{item.nomeProduto}</span>\n              <div className=\"flex items-center\">\n                <button\n                  onClick={() => diminuirQuantidade(item.id)}\n                  className=\"mr-2 bg-red-600 text-white px-3 py-1 rounded-lg\"\n                >\n                  -\n                </button>\n                <span>{item.quantidade || 1}</span>\n                <button\n                  onClick={() => aumentarQuantidade(item.id)}\n                  className=\"ml-2 bg-green-600 text-white px-3 py-1 rounded-lg\"\n                >\n                  +\n                </button>\n                <span className=\"ml-2\">R$ {item.preco.toFixed(2)}</span>\n                <button\n                  onClick={() => removerDoPedido(item.id)}\n                  className=\"ml-4 bg-red-600 text-white px-3 py-1 rounded-lg\"\n                >\n                  Remover\n                </button>\n              </div>\n            </li>\n          ))}\n        </ul>\n        <div className=\"flex justify-between text-xl font-medium mb-4\">\n          <span>Total:</span>\n          <span>R$ {calcularTotal()}</span>\n        </div>\n        <button\n          onClick={finalizarPedido}\n          className=\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700\"\n        >\n          Finalizar Pedido\n        </button>\n        <button\n          onClick={() => setIsSidebarOpen(false)}\n          className=\"mt-4 w-full bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600\"\n        >\n          Fechar\n        </button>\n      </div>\n\n      {/* Conteúdo principal */}\n      <div>\n        {/* Seleção de Mesa */}\n        <div className=\"mt-8 max-w-md mx-auto bg-white p-6 rounded-xl shadow-md\">\n          <h2 className=\"text-2xl font-medium mb-6 text-center text-gray-800\">\n            Selecione a Mesa\n          </h2>\n          <select\n            value={mesa}\n            onChange={(e) => setMesa(e.target.value)}\n            className=\"w-full p-3 border border-gray-300 rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n          >\n            <option value=\"\">Selecione a mesa</option>\n            {[\"1\", \"2\", \"3\", \"4\", \"5\"].map((mesa) => (\n              <option key={mesa} value={mesa}>\n                Mesa {mesa}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Categorias */}\n        <div className=\"mt-8 max-w-md mx-auto overflow-x-auto flex space-x-6 p-3\">\n          {[\"espeto\", \"acompanhamento\", \"bebidas\", \"sobremesa\"].map(\n            (categoria) => (\n              <button\n                key={categoria}\n                onClick={() =>\n                  setCategoriaSelecionada(\n                    categoria as\n                      | \"espeto\"\n                      | \"acompanhamento\"\n                      | \"bebidas\"\n                      | \"sobremesa\"\n                  )\n                }\n                className={`px-6 py-2 rounded-full text-sm font-medium transition-all duration-200 ${\n                  categoriaSelecionada === categoria\n                    ? \"bg-indigo-600 text-white\"\n                    : \"bg-gray-200 text-gray-600 hover:bg-indigo-500 hover:text-white\"\n                }`}\n              >\n                {categoria.charAt(0).toUpperCase() + categoria.slice(1)}\n              </button>\n            )\n          )}\n        </div>\n\n        {/* Menu */}\n        <div className=\"mt-8 max-w-2xl mx-auto\">\n          {produtos\n            .filter((item) => item.tipo === categoriaSelecionada)\n            .map((item) => (\n              <div\n                key={item.id}\n                className=\"bg-white p-6 rounded-xl shadow-md mb-6 transition-all duration-200 hover:scale-105\"\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <h3 className=\"text-lg font-medium text-gray-700\">{item.nomeProduto}</h3>\n                    <p className=\"text-sm text-gray-500\">{item.descricao}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <span className=\"text-xl font-semibold text-gray-800\">\n                      R$ {item.preco.toFixed(2)}\n                    </span>\n                    <button\n                      onClick={() => adicionarAoPedido(item)}\n                      className=\"ml-4 bg-indigo-600 text-white px-4 py-2 rounded-lg transition-all duration-200 hover:bg-indigo-700\"\n                    >\n                      Adicionar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n        </div>\n      </div>\n\n      <Toaster position=\"top-right\" richColors />\n    </div>\n  );\n};\n\nexport default MenuPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}