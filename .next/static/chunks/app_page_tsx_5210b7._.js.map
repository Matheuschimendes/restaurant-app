{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/matheuschimendes/restaurant-app/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\ntype ItemMenu = {\n  id: number;\n  nomeProduto: string;\n  descricao: string;\n  preco: number;\n  imagemUrl: string;\n  tipo: \"espeto\" | \"sobremesa\" | \"acompanhamento\" | \"bebidas\";\n};\n\nconst MenuPage = () => {\n  const [mesa, setMesa] = useState<string>(\"\");\n  const [pedido, setPedido] = useState<ItemMenu[]>([]);\n  const [produtos, setProdutos] = useState<ItemMenu[]>([]);\n  const [categoriaSelecionada, setCategoriaSelecionada] = useState<\n    \"espeto\" | \"sobremesa\" | \"acompanhamento\" | \"bebidas\"\n  >(\"espeto\");\n\n  useEffect(() => {\n    const fetchProdutos = async () => {\n      try {\n        const response = await fetch(\"/pages/api/produto/[id]\");\n        if (!response.ok) throw new Error(\"Erro ao carregar produtos\");\n        const data: ItemMenu[] = await response.json();\n        setProdutos(data);\n      } catch (error) {\n        console.error(\"Erro ao buscar produtos:\", error);\n      }\n    };\n\n    fetchProdutos();\n  }, []);\n\n  const adicionarAoPedido = (item: ItemMenu) => {\n    setPedido((prev) => [...prev, item]);\n  };\n\n  const calcularTotal = () => {\n    return pedido.reduce((total, item) => total + item.preco, 0).toFixed(2);\n  };\n\n  const finalizarPedido = async () => {\n    if (!mesa || pedido.length === 0) {\n      alert(\"Por favor, selecione a mesa e adicione itens ao pedido!\");\n      return;\n    }\n\n    const pedidoData = {\n      mesa,\n      itens: pedido,\n      total: calcularTotal(),\n    };\n\n    try {\n      const response = await fetch(\"/pages/api/pedido\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(pedidoData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || \"Erro ao finalizar pedido.\");\n      }\n\n      alert(\n        `Pedido finalizado para a mesa ${mesa}. Total: R$ ${calcularTotal()}`\n      );\n      setMesa(\"\");\n      setPedido([]);\n    } catch (error) {\n      console.error(\"Erro ao finalizar pedido:\", error);\n      alert(\"Erro ao finalizar pedido. Tente novamente.\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4\">\n      {/* Seleção de Mesa */}\n      <div className=\"mt-8 max-w-md mx-auto\">\n        <h2 className=\"text-2xl font-semibold mb-4\">Selecione a Mesa</h2>\n        <select\n          value={mesa}\n          onChange={(e) => setMesa(e.target.value)}\n          className=\"w-full p-3 border rounded-lg focus:ring focus:ring-blue-300\"\n        >\n          <option value=\"\">Selecione a mesa</option>\n          {[\"1\", \"2\", \"3\", \"4\", \"5\"].map((mesa) => (\n            <option key={mesa} value={mesa}>\n              Mesa {mesa}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Categorias com scroll Horizontal*/}\n      <div className=\"mt-8 max-w-md mx-auto overflow-x-auto flex space-x-4 p-3\">\n        {[\"espeto\", \"acompanhamento\", \"bebidas\", \"sobremesa\"].map(\n          (categoria) => (\n            <button\n              key={categoria}\n              onClick={() =>\n                setCategoriaSelecionada(\n                  categoria as\n                    | \"espeto\"\n                    | \"acompanhamento\"\n                    | \"bebidas\"\n                    | \"sobremesa\"\n                )\n              }\n              className={`px-6 py-2 rounded-full font-semibold ${\n                categoriaSelecionada === categoria\n                  ? \"bg-blue-500 text-white\"\n                  : \"bg-gray-200 text-gray-800 hover:bg-blue-500 hover:text-white\"\n              }`}\n            >\n              {categoria.charAt(0).toUpperCase() + categoria.slice(1)}\n            </button>\n          )\n        )}\n      </div>\n\n      {/* Menu */}\n      <div className=\"mt-4 max-w-2xl mx-auto\">\n        <h2 className=\"text-2xl font-semibold mb-4\">Menu</h2>\n        {produtos\n          .filter((item) => item.tipo === categoriaSelecionada)\n          .map((item) => (\n            <div\n              key={item.id}\n              className=\"bg-white p-4 rounded-lg mb-4 shadow-md\"\n            >\n              <div className=\"flex justify-between\">\n                <div>\n                  <h3 className=\"text-lg font-semibold\">{item.nomeProduto}</h3>\n                  <p className=\"text-sm\">{item.descricao}</p>\n                  <h2>{item.imagemUrl}</h2>\n                </div>\n                <div className=\"text-right\">\n                  <span className=\"text-xl font-bold\">\n                    R$ {item.preco.toFixed(2)}\n                  </span>\n                  <button\n                    onClick={() => adicionarAoPedido(item)}\n                    className=\"ml-4 bg-blue-500 text-white px-4 py-2 rounded-lg\"\n                  >\n                    Adicionar\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n      </div>\n\n      {/* Pedido */}\n      <div className=\"mt-8 max-w-md mx-auto\">\n        <h2 className=\"text-2xl font-semibold mb-4\">Seu Pedido</h2>\n        {pedido.length > 0 ? (\n          <>\n            <ul>\n              {pedido.map((item, index) => (\n                <li key={index} className=\"flex justify-between\">\n                  <span>{item.nomeProduto}</span>\n                  <h2>{item.imagemUrl}</h2>\n                  <span>R$ {item.preco.toFixed(2)}</span>\n                </li>\n              ))}\n            </ul>\n            <div className=\"mt-4 flex justify-between\">\n              <span>Total:</span>\n              <span>R$ {calcularTotal()}</span>\n            </div>\n            <button\n              onClick={finalizarPedido}\n              className=\"w-full mt-4 bg-green-500 text-white py-3 rounded-lg\"\n            >\n              Finalizar Pedido\n            </button>\n          </>\n        ) : (\n          <p>Nenhum item no pedido.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MenuPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}